plugin.tx_typo3blog_pi1 {
	latestComments = CONTENT
	latestComments {
		stdWrap {
			dataWrap = <div class="tx-typo3blog-pi1-widget-latestcomments"><h3>{LLL:EXT:typo3_blog/pi1/locallang.xml:tx_typo3blog_widget_latestcomments.title}</h3> | </div>
			wrap = <ul> | </ul>
		}
		table = tx_comments_comments
		select {
			pidInList = {$plugin.tx_comments_pi1.storagePid}
			selectFields = crdate,firstname,lastname,email,homepage,content,external_ref
			where = approved = 1
			orderBy = crdate desc
			max = {$plugin.tx_typo3blog_pi1.latestComments.itemsToDisplay}
		}

		renderObj = COA
		renderObj {
			wrap = <li>|</li>
			10 = TEXT
			10 {
				stdWrap.cObject = COA
				stdWrap.cObject {
					5 = TEXT
					5 {
						field = firstname
						wrap = <span>|
					}
					10 = TEXT
					10 {
						field = lastname
						wrap = &nbsp;|&nbsp;
					}
					20 = TEXT
					20 {
						field = crdate
						strftime = {$plugin.tx_typo3blog_pi1.dateFromat}
						wrap = |</span><br />
					}
					30 = TEXT
					30 {
						field = content
						wrap = <span>|</span>
						crop = {$plugin.tx_typo3blog_pi1.latestComments.cropContentAfter}
					}
				}
				typolink {
					parameter.cObject = TEXT
					parameter.cObject {
						field = external_ref
						stdWrap.parseFunc.short {
							pages_ =
						}
					}
					title.field = content
				}
			}
		}
	}
}