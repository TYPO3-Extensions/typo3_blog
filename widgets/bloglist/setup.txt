plugin.tx_typo3blog_pi1 {
	blogList = USER
	blogList {
		includeLibs = EXT:typo3_blog/widgets/bloglist/class.tx_typo3blog_widget_bloglist.php
		userFunc = tx_typo3blog_widget_bloglist->main

		# SECTION BLOGLIST SETTINGS
		#----------------------------------------------------

		# Displaying posts in bloglist
		itemsToDisplay = {$plugin.tx_typo3blog_pi1.blogList.itemsToDisplay}

		#Displaying elements from tt_content as preview
		contentItemsToDisplay = {$plugin.tx_typo3blog_pi1.blogList.contentItemsToDisplay}

		# Bloglist template file
		templateFile = {$plugin.tx_typo3blog_pi1.blogList.templateFile}

		stdWrap {
			outerWrap = <div class="tx-typo3blog-pi1-widget-bloglist"> | </div>
		}

		# SECTION TEMPLATE MARKER FOR BLOGLIST TEMPLATE
		#----------------------------------------------------
		marker {
			# page field title setup for templatemarker '###BLOGLIST_TITLE###'
			title = TEXT
			title {
				wrap = |
				field = title
				typolink {
					parameter.dataWrap = {field:uid}
					useCacheHash = 1
				}
			}

			# page field crdate (format as date '%d.%m.%Y' via strftime) setup for templatemarker '###BLOGLIST_CRDATE###'
			crdate = TEXT
			crdate {
				field = crdate
				strftime = {$plugin.tx_typo3blog_pi1.dateFromat}
				wrap = <li> | </li>
				required = 1
			}

			# page field author setup for templatemarker '###BLOGLIST_AUTHOR###'
			author = TEXT
			author {
				field = be_user_realName
				wrap = <li> | </li>
				required = 1
			}

			# page field author_email setup for templatemarker '###BLOGLIST_AUTHOR_EMAIL###'
			author_email = TEXT
			author_email {
				field = be_user_email
				wrap = <li> | </li>
				required = 1
			}

			# page field author_email as gravatar setup for templatemarker '###BLOGLIST_GRAVATAR###'
			gravatar = TEXT
			gravatar {
				field = be_user_email_secure
				dataWrap = <img src="http://www.gravatar.com/avatar/|.jpg?s=50" alt="{field:be_user_realName}" />
				required = 1
			}

			# page field title (from parent page) setup for templatemarker '###BLOGLIST_CATEGORY###'
			category = TEXT
			category {
				field = category
				wrap = <li> | </li>
				required = 1
				typolink {
					parameter.dataWrap = {field:pid}
					useCacheHash = 1
				}
			}

			# page field tx_typo3_tagcloud setup for templatemarker '###BLOGLIST_TX_TYPO3BLOG_TAGS###'
			tx_typo3blog_tags = COA
			tx_typo3blog_tags {
				if.isTrue.field = tx_typo3blog_tags
				wrap = |
				required = 1

				10 = TEXT
				10.data = LLL:EXT:typo3_blog/pi1/locallang.xml:tx_typo3blog_tags
				10.noTrimWrap = ||: |
				20 = TEXT
				20 {
					field = tx_typo3blog_tags
					split {
						cObjNum = 1
						token = ,
						1 {
							1 = LOAD_REGISTER
							1 {
								linkparam.cObject = TEXT
								linkparam.cObject {
									current = 1
									trim = 1
									htmlSpecialChars = 1
									rawUrlEncode = 1
								}
							}
							10 = TEXT
							10 {
								trim = 1
								current = 1
								htmlSpecialChars = 1
								typolink {
									parameter.dataWrap = {$plugin.tx_typo3blog_pi1.startPid}
									additionalParams.dataWrap = &tx_typo3blog_pi1[tagsearch]={register:linkparam}
									useCacheHash = 1
								}
								noTrimWrap = | ||
							}
						}
						wrap = | |*| ,|
					}
				}
			}

			# tt_content items setup for templatemarker '###BLOGLIST_PAGECONTENT###'
			pagecontent = TEXT
			pagecontent {
				field = pagecontent
				wrap = |
				required = 1
			}

			# showMore setup for templatemarker '###BLOGLIST_SHOWMORE###'
			showmore = TEXT
			showmore {
				data = LLL:EXT:typo3_blog/pi1/locallang.xml:tx_typo3blog_widget_bloglist.showmore
				wrap = |
				required = 1
				typolink {
					parameter.dataWrap = {field:uid}
				}
			}

			# additionalheader setup for templatemarker '###BLOGLIST_ADDITIONALHEADER###'
			additionalheader = COA
			additionalheader {

			}

			# additionalfooter setup for templatemarker '###BLOGLIST_ADDITIONALFOOTER###'
			additionalfooter = COA
			additionalfooter {

			}
		}
	}
}